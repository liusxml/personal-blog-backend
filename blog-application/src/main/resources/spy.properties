# ============================================================================
# p6spy SQL性能监控配置（基于MyBatis-Plus官方示例）
# 仅在开发环境使用，生产环境请禁用
# ============================================================================

# ============================================================================
# 模块配置（使用MyBatis-Plus专用模块）
# ============================================================================
modulelist=com.baomidou.mybatisplus.extension.p6spy.MybatisPlusLogFactory,com.p6spy.engine.outage.P6OutageFactory

# ============================================================================
# 日志配置
# ============================================================================
# 自定义日志打印格式（MyBatis-Plus格式化器）
logMessageFormat=com.baomidou.mybatisplus.extension.p6spy.P6SpyLogger

# 使用Slf4j记录SQL（输出到日志文件和控制台）
appender=com.p6spy.engine.spy.appender.Slf4JLogger

# 或仅输出到控制台（开发环境推荐）
#appender=com.baomidou.mybatisplus.extension.p6spy.StdoutLogger

# ============================================================================
# 慢SQL检测
# ============================================================================
# 是否开启慢SQL记录
outagedetection=true

# 慢SQL记录标准：2秒
outagedetectioninterval=2

# ============================================================================
# 过滤配置  
# ============================================================================
# 排除的分类（只排除噪音日志，保留SQL日志）
# 可选值：error,info,batch,debug,statement,commit,rollback,result,resultset
excludecategories=info,debug,result,commit,resultset

# ============================================================================
# 其他配置
# ============================================================================
# 日期格式
dateformat=yyyy-MM-dd HH:mm:ss

# 取消JDBC URL前缀
useprefix=true

# 设置p6spy driver代理
deregisterdrivers=true
